--select * from company;
--drop table trip_bill;
--drop table bill_service;
--drop table trip;
--drop table company;
--drop table bill;
--drop table ident;
--drop table service;
--drop table passenger;
--drop table credentials;
--
CREATE TABLE company (
	id serial4 NOT null PRIMARY KEY,
	name char (10) NOT null,
	ident_id int4 NULL
)
;

CREATE TABLE ident (
	id serial4 NOT null PRIMARY key,
	serial char (10) NOT NULL
)
;

CREATE TABLE trip (
	id serial4 NOT NULL PRIMARY KEY,
	company_id int NOT NULL ,
	plane char (10) NOT NULL ,
	town_from char (25) NOT NULL ,
	town_to char (25) NOT NULL ,
	time_out timestamp NOT NULL ,
	time_in timestamp NOT NULL
)
;

CREATE TABLE trip_bill (
	trip_id int NOT null ,
	bill_id int NOT NULL
)
;

CREATE TABLE bill (
	id serial4 NOT null PRIMARY key,
	passenger_id int not null
)
;

CREATE TABLE bill_service(
	bill_id int NOT null,
	service_id int NOT null
)
;


CREATE TABLE service (
	id serial4 NOT NULL PRIMARY KEY,
	name char (20) NOT null,
	price int8 NOT null
)
;

CREATE TABLE passenger (
	id serial4 NOT NULL PRIMARY KEY,
	name char (20) NOT NULL
)
;

create table credentials
(
    passenger_id  int8,
    login      varchar(20) not null,
    "password" varchar(20) not null
);


ALTER TABLE company ADD CONSTRAINT fk_company_ident FOREIGN KEY(ident_id) REFERENCES ident(id) ON DELETE cascade ON UPDATE CASCADE;

ALTER TABLE trip_bill ADD CONSTRAINT bill_trip_id_fkey FOREIGN KEY (trip_id) references trip (id) ON DELETE cascade ON UPDATE CASCADE;
ALTER TABLE trip_bill ADD CONSTRAINT trip_bill_id_fkey FOREIGN KEY (bill_id) references bill (id);

ALTER TABLE bill ADD CONSTRAINT passenger_id_fkey FOREIGN KEY (passenger_id) references passenger (id);
--ALTER TABLE bill ADD CONSTRAINT service_id_fkey FOREIGN KEY (service_id) references service (id);

ALTER TABLE bill_service ADD CONSTRAINT bill_service_id_fkey FOREIGN KEY (service_id) references service (id);
ALTER TABLE bill_service ADD CONSTRAINT service_bill_id_fkey FOREIGN KEY (bill_id) references bill (id);

ALTER TABLE trip ADD CONSTRAINT FK_trip_company FOREIGN KEY (company_id) REFERENCES company (id);


----identification------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into ident values(1, 'DonA');
insert into ident values(2, 'AF');
insert into ident values(3, 'DalA');
insert into ident values(4, 'AF');
insert into ident values(5, 'BAW');
;

----company------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into company values(1,'Don_avia', 1);
insert into company values(2,'Aeroflot', 2);
insert into company values(3,'Dale_avia', 3);
insert into company values(4,'air_France', 4);
insert into company values(5,'British_AW', 5);
;

----trip------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into trip values(1,4,'Boeing    ','Rostov                   ','Paris                    ','19000101 14:30:00.000','19000101 17:50:00.000');
insert into trip values(2,4,'Boeing    ','Paris                    ','Rostov                   ','19000101 08:12:00.000','19000101 11:45:00.000');
insert into trip values(3,3,'TU-154    ','Rostov                   ','Vladivostok              ','19000101 16:20:00.000','19000101 03:40:00.000');
insert into trip values(4,3,'TU-154    ','Vladivostok              ','Rostov                   ','19000101 09:00:00.000','19000101 19:50:00.000');
insert into trip values(5,2,'IL-86     ','Moscow                   ','Rostov                   ','19000101 09:35:00.000','19000101 11:23:00.000');
insert into trip values(6,2,'IL-86     ','Rostov                   ','Moscow                   ','19000101 17:55:00.000','19000101 20:01:00.000');
insert into trip values(7,1,'TU-134    ','Rostov                   ','Moscow                   ','19000101 06:12:00.000','19000101 08:01:00.000');
insert into trip values(8,1,'TU-134    ','Moscow                   ','Rostov                   ','19000101 12:35:00.000','19000101 14:30:00.000');
insert into trip values(9,1,'TU-134    ','Rostov                   ','Moscow                   ','19000101 15:42:00.000','19000101 17:39:00.000');
insert into trip values(10,5,'Boeing    ','London                   ','Singapore                ','19000101 03:00:00.000','19000101 13:00:00.000');
;

----passenger------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into passenger values(1,'Bruce Willis        ');
insert into passenger values(2,'George Clooney      ');
insert into passenger values(3,'Kevin Costner       ');
insert into passenger values(4,'Donald Sutherland   ');
insert into passenger values(5,'Jennifer Lopez      ');
insert into passenger values(6,'Ray Liotta          ');
insert into passenger values(7,'Samuel L. Jackson   ');
insert into passenger values(8,'Nikole Kidman       ');
insert into passenger values(9,'Alan Rickman        ');
insert into passenger values(10,'Kurt Russell        ');
insert into passenger values(11,'Harrison Ford       ');
insert into passenger values(12,'Russell Crowe       ');
insert into passenger values(13,'Steve Martin        ');
insert into passenger values(14,'Michael Caine       ');
insert into passenger values(15,'Angelina Jolie      ');
insert into passenger values(16,'Mel Gibson          ');
insert into passenger values(17,'Michael Douglas     ');
insert into passenger values(18,'John Travolta       ');
insert into passenger values(19,'Sylvester Stallone  ');
insert into passenger values(20,'Tommy Lee Jones     ');
insert into passenger values(21,'Catherine Zeta-Jones');
insert into passenger values(22,'Antonio Banderas    ');
insert into passenger values(23,'Kim Basinger        ');
insert into passenger values(24,'Sam Neill           ');
insert into passenger values(25,'Gary Oldman         ');
insert into passenger values(26,'Clint Eastwood      ');
insert into passenger values(27,'Brad Pitt           ');
insert into passenger values(28,'Johnny Depp         ');
insert into passenger values(29,'Pierce Brosnan      ');
insert into passenger values(30,'Sean Connery        ');
insert into passenger values(31,'Bruce Willis        ');
insert into passenger values(32,'Mullah Omar         ');

;

----credentials------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into credentials values(1,'Bruce', '1234');
insert into credentials values(2,'George', '5678');
insert into credentials values(3,'Kevin', '9101');
insert into credentials values(4,'Donald', '1212');
insert into credentials values(5,'Jennifer', '1111');
insert into credentials values(6,'Ray', '1213');
insert into credentials values(7,'Samuel', '1315');
insert into credentials values(8,'Nikole', '1617');
insert into credentials values(9,'Alan', '1614');
insert into credentials values(10,'Kurt', '1122');
insert into credentials values(11,'Harrison', '3344');
insert into credentials values(12,'Russell', '5566');
insert into credentials values(13,'Steve', '6677');
insert into credentials values(14,'Michael', '8877');
insert into credentials values(15,'Angelina', '6677');
insert into credentials values(16,'Mel', '5566');
insert into credentials values(17,'Michael', '5544');
insert into credentials values(18,'John', '3678');
insert into credentials values(19,'Sylvester', '4364');
insert into credentials values(20,'Tommy', '0000');
insert into credentials values(21,'Catherine', '0988');
insert into credentials values(22,'Antonio', '8776');
insert into credentials values(23,'Kim', '7876');
insert into credentials values(24,'Sam', '5779');
insert into credentials values(25,'Gary', '6454');
insert into credentials values(26,'Clint', '4576');
insert into credentials values(27,'Brad', '5686');
insert into credentials values(28,'Johnny', '6796');
insert into credentials values(29,'Pierce', '5678');
insert into credentials values(30,'Sean', '4578');
insert into credentials values(31,'Bruce', '4578');
insert into credentials values(32,'Mullah', '4444');



----bill------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into bill values(1, 1);
insert into bill values(2, 1);
insert into bill values(3, 1);
insert into bill values(4, 1);
insert into bill values(5, 2);
insert into bill values(6, 2);
insert into bill values(7, 2);
insert into bill values(8, 2);
insert into bill values(9, 3);
insert into bill values(10, 3);
insert into bill values(11, 5);
insert into bill values(12, 5);
insert into bill values(13, 6);
insert into bill values(14, 7);
insert into bill values(15, 8);
insert into bill values(16, 9);
insert into bill values(17, 10);
insert into bill values(18, 11);
insert into bill values(19, 12);
insert into bill values(20, 13);
insert into bill values(21, 14);
insert into bill values(22, 15);
insert into bill values(23, 16);
insert into bill values(24, 17);
insert into bill values(25, 18);
insert into bill values(26, 19);
insert into bill values(27, 20);
insert into bill values(28, 21);
insert into bill values(29, 22);
insert into bill values(30, 23);
insert into bill values(31, 24);
insert into bill values(32, 25);
insert into bill values(33, 25);
insert into bill values(34, 25);
insert into bill values(35, 26);
insert into bill values(36, 26);
insert into bill values(37, 26);
insert into bill values(38, 27);
insert into bill values(39, 27);
insert into bill values(40, 27);
insert into bill values(41, 28);
insert into bill values(42, 28);
insert into bill values(43, 28);
insert into bill values(44, 29);
insert into bill values(45, 29);
insert into bill values(46, 30);
insert into bill values(47, 31);
insert into bill values(48, 31);
insert into bill values(49, 32);
insert into bill values(50, 4);
insert into bill values(51, 4);
insert into bill values(52, 5);
insert into bill values(53, 6);
insert into bill values(54, 7);
insert into bill values(55, 7);
insert into bill values(56, 8);
insert into bill values(57, 9);
insert into bill values(58, 10);
insert into bill values(59, 10);
insert into bill values(60, 29);
insert into bill values(61, 29);
insert into bill values(62, 30);
insert into bill values(63, 31);
insert into bill values(64, 31);
insert into bill values(65, 32);
insert into bill values(66, 30);



----trip_bill------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into trip_bill values(1, 1);
insert into trip_bill values(1, 2);
insert into trip_bill values(1, 3);
insert into trip_bill values(1, 4);
insert into trip_bill values(1, 5);
insert into trip_bill values(1, 6);
insert into trip_bill values(2, 7);
insert into trip_bill values(2, 8);
insert into trip_bill values(2, 9);
insert into trip_bill values(2, 10);
insert into trip_bill values(2, 11);
insert into trip_bill values(2, 12);
insert into trip_bill values(3, 13);
insert into trip_bill values(3, 14);
insert into trip_bill values(3, 15);
insert into trip_bill values(3, 16);
insert into trip_bill values(3, 17);
insert into trip_bill values(3, 18);
insert into trip_bill values(4, 19);
insert into trip_bill values(4, 20);
insert into trip_bill values(4, 21);
insert into trip_bill values(4, 22);
insert into trip_bill values(4, 23);
insert into trip_bill values(4, 24);
insert into trip_bill values(5, 25);
insert into trip_bill values(5, 26);
insert into trip_bill values(5, 27);
insert into trip_bill values(5, 28);
insert into trip_bill values(5, 29);
insert into trip_bill values(5, 30);

insert into trip_bill values(5, 31);
insert into trip_bill values(5, 32);
insert into trip_bill values(5, 33);
insert into trip_bill values(5, 34);
insert into trip_bill values(5, 35);
insert into trip_bill values(5, 36);

insert into trip_bill values(6, 37);
insert into trip_bill values(6, 38);
insert into trip_bill values(6, 39);
insert into trip_bill values(6, 40);
insert into trip_bill values(6, 41);
insert into trip_bill values(6, 42);

insert into trip_bill values(7, 43);
insert into trip_bill values(7, 44);
insert into trip_bill values(7, 45);
insert into trip_bill values(7, 46);
insert into trip_bill values(7, 47);
insert into trip_bill values(7, 48);

insert into trip_bill values(8, 49);
insert into trip_bill values(8, 50);
insert into trip_bill values(8, 51);
insert into trip_bill values(8, 52);
insert into trip_bill values(8, 53);
insert into trip_bill values(8, 54);

insert into trip_bill values(9, 55);
insert into trip_bill values(9, 56);
insert into trip_bill values(9, 57);
insert into trip_bill values(9, 58);
insert into trip_bill values(9, 59);
insert into trip_bill values(9, 60);

insert into trip_bill values(10, 61);
insert into trip_bill values(10, 62);
insert into trip_bill values(10, 63);
insert into trip_bill values(10, 64);
insert into trip_bill values(10, 65);
insert into trip_bill values(10, 66);


----service------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into service values(1,'baggage', 50);
insert into service values(2,'nutrition', 100);
insert into service values(3,'reservatio', 10);
insert into service values(4,'insurance', 30);

;

----bill_service------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
insert into bill_service values(1, 1);
insert into bill_service values(1, 2);
insert into bill_service values(2, 3);
insert into bill_service values(3, 4);
insert into bill_service values(3, 4);
insert into bill_service values(3, 3);
insert into bill_service values(4, 3);
insert into bill_service values(4, 2);
insert into bill_service values(4, 1);
insert into bill_service values(5, 1);
insert into bill_service values(6, 1);
insert into bill_service values(7, 2);
insert into bill_service values(8, 3);
insert into bill_service values(9, 2);
insert into bill_service values(10, 4);
insert into bill_service values(11, 2);
insert into bill_service values(12, 1);
insert into bill_service values(12, 4);
insert into bill_service values(12, 3);
insert into bill_service values(13, 2);
insert into bill_service values(14, 1);
insert into bill_service values(15, 3);
insert into bill_service values(16, 4);
insert into bill_service values(17, 2);
insert into bill_service values(17, 1);
insert into bill_service values(17, 4);
insert into bill_service values(18, 3);
insert into bill_service values(19, 2);
insert into bill_service values(20, 1);
insert into bill_service values(21, 4);
insert into bill_service values(22, 3);
insert into bill_service values(23, 2);
insert into bill_service values(24, 1);
insert into bill_service values(25, 3);
insert into bill_service values(26, 4);
insert into bill_service values(26, 2);
insert into bill_service values(27, 1);
insert into bill_service values(27, 4);
insert into bill_service values(28, 3);
insert into bill_service values(29, 2);
insert into bill_service values(29, 1);
insert into bill_service values(30, 4);
insert into bill_service values(30, 3);
insert into bill_service values(31, 2);
insert into bill_service values(32, 1);
insert into bill_service values(33, 4);
insert into bill_service values(34, 3);
insert into bill_service values(35, 2);
insert into bill_service values(35, 1);
insert into bill_service values(36, 2);
insert into bill_service values(37, 4);
insert into bill_service values(38, 3);
insert into bill_service values(39, 2);
insert into bill_service values(40, 1);
insert into bill_service values(41, 4);
insert into bill_service values(42, 3);
insert into bill_service values(42, 2);
insert into bill_service values(43, 1);
insert into bill_service values(44, 4);
insert into bill_service values(44, 2);
insert into bill_service values(44, 3);
insert into bill_service values(44, 1);
insert into bill_service values(45, 1);
insert into bill_service values(45, 3);
insert into bill_service values(46, 2);
insert into bill_service values(47, 4);
insert into bill_service values(48, 2);
insert into bill_service values(49, 1);
insert into bill_service values(50, 4);
insert into bill_service values(51, 4);
insert into bill_service values(52, 2);
insert into bill_service values(53, 1);
insert into bill_service values(54, 4);
insert into bill_service values(55, 2);
insert into bill_service values(56, 1);
insert into bill_service values(57, 4);
insert into bill_service values(58, 3);
insert into bill_service values(59, 2);
insert into bill_service values(60, 1);
insert into bill_service values(61, 4);
insert into bill_service values(62, 3);
insert into bill_service values(63, 2);
insert into bill_service values(64, 1);
insert into bill_service values(65, 1);
insert into bill_service values(66, 1);
