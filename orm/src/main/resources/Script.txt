--select * from company;

--drop table bill_service;
--drop table trip;
--drop table company;
--drop table bill;
--drop table ident;
--drop table service;
--drop table passenger;
--drop table credential;
--drop table transfer_trip ;
--drop table return_trip ;
--
CREATE TABLE company (
	id serial4 NOT null PRIMARY KEY,
	name varchar (25) NOT null,
	ident_id int4 NULL
)
;

CREATE TABLE ident (
	id serial4 NOT null PRIMARY key,
	serial varchar (10) NOT NULL
)
;

CREATE TABLE trip (
	id serial4 NOT NULL PRIMARY KEY,
	company_id int NOT NULL ,
	plane varchar (20) NOT NULL ,
	town_from varchar (25) NOT NULL ,
	town_to varchar (25) NOT NULL ,
	time_out timestamp NOT NULL ,
	time_in timestamp NOT null ,
	class_name varchar(20) not null
)
;

CREATE TABLE transfer_trip (
    id int8 not null,
	transfer_town varchar (25) NOT NULL ,
	transfer_time_out timestamp NOT NULL ,
	transfer_time_in timestamp NOT NULL
)
;

CREATE TABLE return_trip (
    id int8 not null,
	return_time_out timestamp NOT NULL ,
	return_time_in timestamp NOT NULL
)
;


CREATE TABLE bill (
	id serial4 NOT null PRIMARY key,
	passenger_id int not null,
	trip_id int not null
)
;

CREATE TABLE bill_service(
	bill_id int NOT null,
	service_id int NOT null
)
;


CREATE TABLE service (
	id serial4 NOT NULL PRIMARY KEY,
	name varchar (40) NOT null,
	price int8 NOT null
)
;

CREATE TABLE passenger (
	id serial4 NOT NULL PRIMARY KEY,
	name varchar (40) NOT NULL
)
;

create table credential
(
    passenger_id  int8,
    login      varchar(40) not null,
    "password" varchar(40) not null
);
